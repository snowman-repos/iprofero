<div data-ng-controller="TimesheetsController" data-ng-init="timer = 'off';" class="page-container top margin"><div class="ui page stackable grid"><div class="row"><div class="eleven wide column"><form data-ng-switch="prefs.logType" class="ui form segment"><div class="ui small icon buttons bottom margin"><div data-ng-class="{'active':prefs.logType == 'form'}" data-ng-click="prefs.logType = 'form'; setLogType();" class="ui button"><i class="block layout icon"></i></div><div data-ng-class="{'active':prefs.logType == 'slider'}" data-ng-click="prefs.logType = 'slider'; setLogType();" class="ui button"><i class="resize horizontal icon"></i></div><div data-ng-class="{'active':prefs.logType == 'timer'}" data-ng-click="prefs.logType = 'timer'; setLogType();" class="ui button"><i class="time icon"></i></div><div data-ng-class="{'active': prefs.dateRange == true}" data-ng-click="prefs.dateRange = !prefs.dateRange; setDateFormat()" data-ng-hide="prefs.logType=='timer'" class="ui button"><i class="calendar icon"></i><i class="resize horizontal icon"></i><i class="calendar icon"></i></div></div><div data-ng-switch-when="form" data-ng-hide="prefs.dateRange == true" class="two stackable fields"><div class="hours field"><div class="ui left icon input"><input name="hours" type="text" data-ng-model="newtimelog.hours" tabindex="1" placeholder="e.g. 1, 1.5, 8, 12.25" validate-time="validate-time"/><i class="time icon"></i></div></div><div class="field"><div dropdown="dropdown" class="ui left icon dropdown input"><input name="date" type="text" data-ng-model="date" tabindex="2"/><i class="calendar icon"></i><div class="menu"><div class="item"><datetimepicker data-ng-model="newtimelog.date" data-datetimepicker-config="{ minView: 'day', maxView: 'month', startView: 'day' }"></datetimepicker></div></div></div></div></div><div data-ng-switch-when="form" data-ng-show="prefs.dateRange == true"><div class="hours field"><div class="ui left icon input"><input name="hours" type="text" data-ng-model="newtimelog.hours" tabindex="1" placeholder="e.g. 1, 1.5, 8, 12.25" validate-time="validate-time"/><i class="time icon"></i></div></div><div class="two stackable fields"><div class="field"><label class="small">from:</label><div dropdown="dropdown" class="ui left icon dropdown input"><input name="date" type="text" data-ng-model="startdate" tabindex="2"/><i class="calendar icon"></i><div class="menu"><div class="item"><datetimepicker data-ng-model="newtimelog.startdate" data-datetimepicker-config="{ minView: 'day', maxView: 'month', startView: 'day' }"></datetimepicker></div></div></div></div><div class="field"><label class="small">to:</label><div dropdown="dropdown" class="ui left icon dropdown input"><input name="date" type="text" data-ng-model="enddate" tabindex="2"/><i class="calendar icon"></i><div class="menu"><div class="item"><datetimepicker data-ng-model="newtimelog.enddate" data-datetimepicker-config="{ minView: 'day', maxView: 'month', startView: 'day' }"></datetimepicker></div></div></div></div></div></div><div data-ng-switch-when="slider"><div class="field"><div class="ui center aligned huge header"><i class="time icon"></i> {{newtimelog.time | time}}</div><input type="range" max="86400" min="0" step="900" data-ng-model="newtimelog.time" tabindex="1"/></div><div data-ng-hide="prefs.dateRange == true" class="field"><div dropdown="dropdown" class="ui left icon dropdown input"><input name="date" type="text" data-ng-model="date" tabindex="2"/><i class="calendar icon"></i><div class="menu"><div class="item"><datetimepicker data-ng-model="newtimelog.date" data-datetimepicker-config="{ minView: 'day', maxView: 'month', startView: 'day' }"></datetimepicker></div></div></div></div><div data-ng-show="prefs.dateRange == true" class="two stackable fields"><div class="field"><label class="small">from:</label><div dropdown="dropdown" class="ui left icon dropdown input"><input name="date" type="text" data-ng-model="startdate" tabindex="2"/><i class="calendar icon"></i><div class="menu"><div class="item"><datetimepicker data-ng-model="newtimelog.startdate" data-datetimepicker-config="{ minView: 'day', maxView: 'month', startView: 'day' }"></datetimepicker></div></div></div></div><div class="field"><label class="small">to:</label><div dropdown="dropdown" class="ui left icon dropdown input"><input name="date" type="text" data-ng-model="enddate" tabindex="2"/><i class="calendar icon"></i><div class="menu"><div class="item"><datetimepicker data-ng-model="newtimelog.enddate" data-datetimepicker-config="{ minView: 'day', maxView: 'month', startView: 'day' }"></datetimepicker></div></div></div></div></div></div><div data-ng-switch-when="timer"><div class="field"><div data-ng-class="{'disabled': Stopwatch.data.status == 'off'}" class="ui center aligned massive header">{{Stopwatch.data.value | duration}}</div></div><div class="ui center aligned bottom margin"><div class="ui buttons"><div data-ng-click="Stopwatch.start();" data-ng-class="{active: Stopwatch.data.status == 'on'}" class="ui icon button"><i class="time icon"></i></div><div data-ng-click="Stopwatch.stop();" data-ng-class="{active: Stopwatch.data.status == 'paused'}" class="ui icon button"><i class="pause icon"></i></div><div data-ng-click="Stopwatch.reset();" class="ui icon button"><i class="undo icon"></i></div></div></div></div><div class="two stackable fields"><div class="field"><select chosen="chosen" data-ng-model="project" data-ng-options="project.name for project in user.projects" data-placeholder="{{projectNames[newtimelog.project] || 'Project'}}" data-no-results-text="'No projects'" tabindex="3"></select></div><div class="field"><select chosen="chosen" data-ng-model="activity" data-ng-options="activity.name for activity in activities" data-placeholder="{{activityNames[newtimelog.activity] || 'Activity'}}" data-no-results-text="'No activities'" tabindex="4"></select></div></div><label for="comment" class="small">Comment:</label><div class="ui fluid input bottom margin"><input id="comment" data-ng-model="newtimelog.comment" placeholder="anything else?" tabindex="5"/></div><div data-ng-show="prefs.logType != 'timer'" class="ui center aligned"><div tabindex="6" data-ng-class="{'disabled': newtimelog.project == '' || newtimelog.activity == '' || newtimelog.date == '' || !newtimelog.time || !valid}" data-ng-click="logTime()" class="ui green labeled icon button"><i class="save icon"></i>Log time</div></div><div data-ng-show="prefs.logType == 'timer'" class="ui center aligned"><div tabindex="6" data-ng-class="{'disabled': newtimelog.project == '' || newtimelog.activity == '' || newtimelog.date == '' || Stopwatch.data.value == 0}" data-ng-click="logTime()" class="ui green labeled icon button"><i class="save icon"></i>Log time</div></div></form></div><div class="five wide column"><div class="ui header">Hours this week: <div data-ng-class="{'green':hoursThisWeek &gt;= 40, 'red':hoursThisWeek &lt; 40}" data-ng-bind="hoursThisWeek" class="ui circular label"></div><div class="sub header">Projects: <span data-ng-bind="activeProjects"></span></div></div></div></div><div class="row"><div class="column"><div data-ng-if="myTimelogs.length != 0" class="ui relaxed animated divided list"><div data-ng-repeat="timelog in myTimelogs| orderBy: timelog.date" class="item"><img data-ng-src="{{user.avatar}}" class="ui avatar image"/><i class="right floated circular pencil icon link"></i><i class="right floated circular remove icon link"></i><div class="content"><div data-ng-bind="projectNames[timelog.project]" class="header"></div><span data-ng-bind="timelog.time / 60 / 60"></span></div></div></div><p data-ng-if="myTimelogs.length == 0"><i>No timesheets logged yet</i></p></div></div></div></div>